<!DOCTYPE html>
<html>
    <head>
    <title>Rock, Paper, Scissors Game</title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="suits">

            <div id = "rock" class="button">
                <img data-type="rock" src="Images/rock.png" alt="icon of rock" id="rock">
            </div>
            <div id = "paper" class="button">
                <img data-type="paper" src="Images/paper.png" alt="icon of paper" id="paper">
            </div>
            <div id = "scissor" class="button">
                <img data-type="scissor" src="Images/scissor.png" alt="icon of scissor" id="scissor">
            </div>
    
    </div>

    <div id= "results" class="resultsBox">

        <div id = "playerWinCounter">YOU</div>
        <div id = "roundResults"></div>
        <div id = "pcWinCounter">PC</div>

    </div>

    <script>

     function pcPlay(min = 0, max = 2){
            let pcHand = ['rock', 'paper', 'scissor'];
            min = Math.ceil(min);
            max = Math.floor(max);
            return pcHand[Math.floor(Math.random() * (max - min + 1)) + min]
        };

        let playerWins = 0;
        let pcWins = 0;
        const winRequirement = 5;

        function matchResult(pcHand, playerHand
        ){ 
          roundResults.textContent= "";
            switch(true){
                case pcHand == "rock" && playerHand
                 == "scissor":
                result = "loose";
                pcWins++;
                break;
                case pcHand == "paper" && playerHand
                 == "rock":
                result = "loose";
                pcWins++;
                break;
                case pcHand == "scissor" && playerHand
                 == "paper":
                result = "loose";
                pcWins++;
                break;
                case pcHand == playerHand
                :
                result = "draw";
                roundResults.textContent= "Its a Draw";
                break;
                default:
                result = "win";
                playerWins++;
            }

            let results = [playerWins, pcWins];
            
            return results;


        };

        function roundResult(result){
            
            if(result[0] >= winRequirement && result[1] < winRequirement){roundResults.textContent = "You Win"}
             else if(result[1] >= winRequirement && result[0] < winRequirement){roundResults.textContent= "You Loose"};
        };

        function scoreUpdate(result){
           
            playerWinCounter.textContent = `YOU ${result[0]}`;
        
            pcWinCounter.textContent = `PC ${result[1]}`;
        };


                const buttons = document.querySelectorAll('.button');
                const resultsBox = document.querySelector('#results');
        
                buttons.forEach((button) => {
                    button.addEventListener('click', function (e) {
                        let playerhand = e.target.id;
                        result = matchResult(pcPlay(), playerhand);
                        scoreUpdate(result);
                        roundResult(result);
                    });

            
        });

    </script>
</body>

</html>